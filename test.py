# app.py

import streamlit as st

# -------------------------------
# ë°ì´í„°ë² ì´ìŠ¤ (ì¦ìƒ-ì§ˆë³‘-ì•½í’ˆ ë§¤í•‘)
# -------------------------------
medicine_db = {
    "ë‘í†µ": {
        "disease": "ê¸´ì¥ì„± ë‘í†µ, í¸ë‘í†µ",
        "medicine": "íƒ€ì´ë ˆë†€, ì•„ìŠ¤í”¼ë¦°",
        "caution": "ê°„ ì§ˆí™˜ í™˜ì ì£¼ì˜, ì•„ìŠ¤í”¼ë¦°ì€ ìœ„ì¥ ì¥ì•  ìœ ë°œ ê°€ëŠ¥",
        "otc": True,
    },
    "ë°œì—´": {
        "disease": "ê°ê¸°, ë…ê°",
        "medicine": "íƒ€ì´ë ˆë†€, ì´ë¶€í”„ë¡œíœ",
        "caution": "ê°„, ì‹ ì¥ ì§ˆí™˜ í™˜ì ì£¼ì˜",
        "otc": True,
    },
    "ê¸°ì¹¨": {
        "disease": "ê¸°ê´€ì§€ì—¼, ê°ê¸°",
        "medicine": "ë±ìŠ¤íŠ¸ë¡œë©”í† ë¥´íŒ, ë©”í‹¸ì—í˜ë“œë¦°",
        "caution": "ê³ í˜ˆì•• í™˜ì ì£¼ì˜",
        "otc": True,
    },
    "ì½§ë¬¼": {
        "disease": "ì•Œë ˆë¥´ê¸°ì„± ë¹„ì—¼, ê°ê¸°",
        "medicine": "í´ë¡œë¥´í˜ë‹ˆë¼ë¯¼, ë¡œë¼íƒ€ë”˜",
        "caution": "ì¡¸ìŒ ìœ ë°œ ê°€ëŠ¥",
        "otc": True,
    },
    "ë³µí†µ": {
        "disease": "ì†Œí™”ë¶ˆëŸ‰, ê³¼ë¯¼ì„± ëŒ€ì¥ì¦í›„êµ°",
        "medicine": "ë¶€ìŠ¤ì½”íŒ, ìœ„ì¥ì•½",
        "caution": "ë§Œì„± ì§ˆí™˜ìëŠ” ì˜ì‚¬ ìƒë‹´ í•„ìš”",
        "otc": True,
    },
    "í”¼ë¡œ": {
        "disease": "ê³¼ë¡œ, ìŠ¤íŠ¸ë ˆìŠ¤",
        "medicine": "ë¹„íƒ€ë¯¼B ë³µí•©ì œ, ì˜ì–‘ì œ",
        "caution": "ì§€ì†ë  ê²½ìš° ì§„ë£Œ í•„ìš”",
        "otc": True,
    },
    "ë¶ˆë©´": {
        "disease": "ìŠ¤íŠ¸ë ˆìŠ¤, ë¶ˆì•ˆì¥ì• ",
        "medicine": "ë©œë¼í† ë‹Œ (ê±´ê°•ê¸°ëŠ¥ì‹í’ˆ), ìˆ˜ë©´ìœ ë„ì œ",
        "caution": "ì˜ì¡´ì„± ì£¼ì˜, ì¥ê¸° ë³µìš© ê¸ˆì§€",
        "otc": False,
    },
}


# -------------------------------
# Streamlit ì•± UI
# -------------------------------
def main():
    st.set_page_config(
        page_title="ìŠ¤ë§ˆíŠ¸ ì•½ ì¶”ì²œ ì•±",
        page_icon="ğŸ’Š",
        layout="centered",
        initial_sidebar_state="expanded",
    )

    # ì•± ì œëª©
    st.title("ğŸ’Š ìŠ¤ë§ˆíŠ¸ ì•½ ì¶”ì²œ ì•±")
    st.write("ğŸ‘‰ ì¦ìƒê³¼ ë‚˜ì´ë¥¼ ì…ë ¥í•˜ë©´ ì ì ˆí•œ **ì§ˆë³‘Â·ì•½Â·ì£¼ì˜ì‚¬í•­**ì„ ì•Œë ¤ë“œë ¤ìš”.")

    # ë‚˜ì´ ì…ë ¥
    age = st.number_input("ë‚˜ì´ë¥¼ ì…ë ¥í•˜ì„¸ìš”", min_value=1, max_value=120, value=20)

    # ì¦ìƒ ë‹¤ì¤‘ ì„ íƒ
    symptoms = st.multiselect("ì¦ìƒì„ ì„ íƒí•˜ì„¸ìš”", list(medicine_db.keys()))

    # ê²°ê³¼ ë²„íŠ¼
    if st.button("ğŸ” ì¶”ì²œ ê²°ê³¼ ë³´ê¸°"):
        if not symptoms:
            st.warning("ì¦ìƒì„ ìµœì†Œ 1ê°œ ì´ìƒ ì„ íƒí•´ì£¼ì„¸ìš”.")
        else:
            st.subheader("ğŸ“‹ ì§„ë‹¨ ê²°ê³¼")
            for symptom in symptoms:
                data = medicine_db[symptom]
                st.markdown(f"### ğŸ©º ì¦ìƒ: **{symptom}**")
                st.write(f"â€¢ ê´€ë ¨ ì§ˆí™˜: {data['disease']}")
                st.write(f"â€¢ ì¶”ì²œ ì•½í’ˆ: {data['medicine']}")
                st.write(f"â€¢ ì£¼ì˜ ì‚¬í•­: âš ï¸ {data['caution']}")
                if data["otc"]:
                    st.success("êµ¬ì… ê°€ëŠ¥: ì¼ë°˜ ì˜ì•½í’ˆ (ì•½êµ­ì—ì„œ êµ¬ë§¤ ê°€ëŠ¥)")
                else:
                    st.error("âš•ï¸ ì²˜ë°©ì „ í•„ìš”")

            st.info(f"ğŸ‘¤ ì…ë ¥í•˜ì‹  ë‚˜ì´: {age}ì„¸")


if __name__ == "__main__":
    main()
